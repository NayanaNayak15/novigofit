(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6RjT":function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),a=r.n(n),o=r("siax"),c=(r("fKEw"),r("P0qE")),u=function(e){return Object(c.b)("/feedback",e)},i=function(e){return Object(c.b)("/accuracy_score",e)};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var a=y(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,c=p(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),d(h(t=c.call(this,e)),"getExerciseAccuracyPercentage",(function(){var e=t.props.match.params.id;i({exercise_id:e}).then((function(e){if(e){var r=e.accuracy_score?e.accuracy_score:0;r<0&&(r=0),r<30?t.setState({lowAccuracyValue:!0,textColor:"orange"}):r>30&&r<70?t.setState({highAccuracyValue:!0,textColor:"yellow",greatEffortMessage:!0}):t.setState({highAccuracyValue:!0,textColor:"green",greatEffortMessage:!0}),t.setState({loaderMessage:!1,accuracyValue:r}),console.log("accuracy value",e)}})).catch((function(e){console.log(e)}))})),d(h(t),"goBack",(function(){t.props.history.push("/app/welcome")})),d(h(t),"goSummary",(function(){var e=t.props.match.params.id;t.sendFeedback(),t.props.history.push("/app/summary/".concat(e))})),d(h(t),"stepChange",(function(e){t.setState({step:e})})),d(h(t),"sendFeedback",(function(){var e=(t.state.step/20).toFixed(0),r=t.props.match.params.id;u({effort_score:e,exercise_id:r}).then((function(e){e&&console.log("feedback stored successfully")})).catch((function(e){console.log(e)}))})),t.state={step:"1",accuracyValue:"0",loaderMessage:!0,highAccuracyValue:!1,textColor:"green",lowAccuracyValue:!1,lowAccuracyMessage1:"Your workout showed a lot of variation from the instructor's video.",lowAccuracyMessage2:"Would you like to try again?",greatEffortMessage:!1},t}return t=s,(r=[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getExerciseAccuracyPercentage()}},{key:"render",value:function(){return a.a.createElement("div",{className:"feedback"},a.a.createElement("div",{className:"feedback-wrapper"},this.state.greatEffortMessage&&a.a.createElement("p",{className:"top-text green"},"Great effort!"),this.state.highAccuracyValue&&a.a.createElement("p",{className:"top-text margin-bottom-40 ".concat(this.state.textColor)},"You performed ",this.state.accuracyValue,"% of the steps correctly"),this.state.lowAccuracyValue&&a.a.createElement("p",{className:"top-text margin-bottom-40 ".concat(this.state.textColor)},this.state.lowAccuracyMessage1,a.a.createElement("br",null),this.state.lowAccuracyMessage2),a.a.createElement("p",{className:"top-text"},"How did this workout feel?"),a.a.createElement(o.a,{min:0,max:100,defaultValue:0,marks:{20:"",40:"",60:"",80:"",100:""},step:20,onChange:this.stepChange}),a.a.createElement("div",{className:"row pt-2"},a.a.createElement("div",{className:"col-md-6 pull-left text-left green w-50"},"Easy"),a.a.createElement("div",{className:"col-md-6 pull-right text-right red w-50"},"Hard")),a.a.createElement("div",{className:"mt-6 btn-lists"},a.a.createElement("button",{type:"button",className:"buttons mr-4",onClick:this.goBack},"Back"),a.a.createElement("button",{type:"button",className:"buttons",onClick:this.goSummary},"Next"))),this.state.loaderMessage&&a.a.createElement("div",{className:"loader-message"},a.a.createElement("div",{className:"v-align"},a.a.createElement("div",{className:"loader"}),a.a.createElement("br",null),a.a.createElement("div",{className:"message"},"Our AI virtual trainer is assessing the accuracy of your workout. Hang on."))))}}])&&l(t.prototype,r),n&&l(t,n),s}(a.a.Component);g.propTypes={},g.defaultProps={};t.default=g},P0qE:function(e,t,r){"use strict";function n(e,t,r,n,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void r(e)}u.done?t(i):Promise.resolve(i).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var c=e.apply(t,r);function u(e){n(c,a,o,u,i,"next",e)}function i(e){n(c,a,o,u,i,"throw",e)}u(void 0)}))}}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l}));var o="https://elitefitforyou.com:8086",c=function(e){return null==e?"":e},u=function(e,t){return t?"".concat(e,"?").concat(Object.keys(t).map((function(e){return Array.isArray(t[e])?t[e].map((function(t){return"".concat(e,"[]=").concat(c(t).toString().replace("+","%2B")).trim()})).join("&"):"".concat(e,"=").concat(c(t[e]).toString().replace("+","%2B")).trim()})).join("&")):e},i=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),a={method:"GET",headers:{Accept:"application/json"}},n&&(a.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",fetch("".concat(o).concat(u(t,r)),a).then((function(e){return e.json()}),(function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},r&&(a.body=JSON.stringify(r)),n&&(a.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",fetch("".concat(o).concat(t),a).then((function(e){return e.json()}),(function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),a={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}},r&&(a.body=JSON.stringify(r)),n&&(a.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",fetch("".concat(o).concat(t),a).then((function(e){return e.json()}),(function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},fKEw:function(e,t,r){}}]);